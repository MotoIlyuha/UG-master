{% extends 'index.html' %}

{% block title %}
Админ
{% endblock %}

{% block body %}
<div class="header"></div>
{% for i in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29] %}
	<button type="button" class="btn btn-success">{{ logins[i] }}</button>
	<form method="post">
		<label class="switch">
		  <input type="checkbox">
		  <span class="slider"></span>
		</label>
	</form>
{% endfor %}
<div class="container">
	<div class="up-part">
		<div class="right-part"></div>
		<div class="center-part">
			<h2>Информация о {{login}}</h2>
			<form method="post" style="display: flex; justify-content: center;">
				<div style="text-align: left; margin-right: 3rem;">
					<div class="form-group">
						<label for="inputTime">Введите дату:</label>
						<input type="time" class="form-control">
					</div>
					<div class="form-group">
						<label for="inputDate">Введите дату:</label>
						<input type="date" class="form-control">
					</div>
				</div>
				<div style="margin-right: 3rem;">
					<div class="form-group">
						<label for="inputTime">Введите дату:</label>
						<input type="time" class="form-control">
					</div>
					<div class="form-group">
						<label for="inputDate">Введите дату:</label>
						<input type="date" class="form-control">
					</div>
				</div>
				<div style="text-align: right;">
					<button type="button" class="btn btn-success">Обновить</button>
				</div>
			</form>
		</div>
		<div class="left-part"></div>
	</div>
	<div class="down-part">
		<div class="line-block">
			<div style="height: 50vh; width: 50%;">
				<canvas id="power"></canvas>
			</div>
			<div style="height: 50vh; width: 50%;">
				<canvas id="temp"></canvas>
			</div>
		</div>
		<h2>{{ state[i] }}</h2>
	</div>
</div>

<script>
	const labels = {{ label | tojson}};

	const data1 = {
		labels: labels,
		datasets: [{
			label: 'Sales',
			backgroundColor: 'rgb(255, 99, 132)',
			borderColor: 'rgb(255, 99, 132)',
			data: {{ power_data | tojson}},
		}]
	};
	const data2 = {
		labels: labels,
		datasets: [{
			label: 'Sales',
			backgroundColor: 'rgb(255, 99, 132)',
			borderColor: 'rgb(255, 99, 132)',
			data: {{ temp_data | tojson}},
		}]
	};

	const config1 = {
		type: 'line',
		data: data1,
		options: { maintainAspectRatio: false }
	};
	const config2 = {
		type: 'line',
		data: data2,
		options: { maintainAspectRatio: false }
	};

	const power = new Chart(
		document.getElementById('power'),
		config1
	);
	const temp = new Chart(
		document.getElementById('temp'),
		config2
	);

</script>
{% endblock %}